{% extends 'base.html.twig' %}

{% block title %}Crear Usuario{% endblock %}

{% block body %}
    <main>
        <style>
            /* Contenedor centrado y card */
            .admin-container {
                max-width: 600px;
                margin: 40px auto;
                padding: 30px 25px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 0.5rem;
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 6px 15px rgba(0,0,0,0.3);
                color: #fff;
                font-family: 'Roboto', sans-serif;
                text-align: center;
            }

            .admin-container h1, .admin-container h2 {
                font-size: 2rem;
                margin-bottom: 1rem;
                color: #fff;
            }

            /* Formulario */
            .admin-form {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .admin-form-group {
                width: 90%;
                margin-bottom: 1rem;
                text-align: left;
            }

            .admin-form-group label {
                display: block;
                margin-bottom: 6px;
                font-weight: 500;
                color: #f3eaff;
            }

            .admin-form-group input,
            .admin-form-group select,
            .admin-form-group textarea {
                width: 100%;
                padding: 0.6rem;
                font-size: 1rem;
                border-radius: 0.5rem;
                border: 1px solid rgba(255,255,255,0.3);
                background: rgba(255,255,255,0.05);
                color: #fff;
                outline: none;
                transition: all 0.3s ease;
            }

            .admin-form-group input:focus,
            .admin-form-group select:focus,
            .admin-form-group textarea:focus {
                border-color: #9b59b6;
                box-shadow: 0 0 12px rgba(155,89,182,0.6);
            }

            .admin-submit {
                padding: 0.6rem 1.2rem;
                font-size: 1rem;
                font-weight: 600;
                border-radius: 0.5rem;
                border: none;
                background: #9b59b6;
                color: #fff;
                cursor: pointer;
                transition: background 0.3s ease;
                margin-top: 10px;
            }

            .admin-submit:hover {
                background: #6a0dad;
            }

            /* Mensajes de alerta */
            .alert {
                margin-top: 1rem;
                padding: 0.75rem 1rem;
                border-radius: 0.5rem;
                font-weight: 500;
                text-align: center;
            }

            .alert-success {
                background-color: #28a745;
                color: #fff;
            }

            .alert-danger {
                background-color: #e74c3c;
                color: #fff;
            }

            /* Bot√≥n volver */
            .btn-back {
                margin-top: 15px;
                display: inline-block;
                padding: 0.6rem 1.2rem;
                font-size: 1rem;
                font-weight: 600;
                border-radius: 0.5rem;
                border: none;
                background: #7f8c8d;
                color: #fff;
                text-decoration: none;
                transition: background 0.3s ease;
            }

            .btn-back:hover {
                background: #606f70;
            }

            @media (max-width: 768px) {
                .admin-container {
                    margin: 20px 15px;
                    padding: 20px;
                }

                .admin-container h1, .admin-container h2 {
                    font-size: 1.5rem;
                }
            }

        </style>

        <div class="admin-container">
            <h2>‚ûï Crear nuevo usuario</h2>

            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="alert alert-{{ label == 'success' ? 'success' : 'danger' }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}

            {{ form_start(form, {'attr': {'class':'admin-form'}}) }}

            <div class="admin-form-group">
                {{ form_label(form.username) }}
                {{ form_widget(form.username) }}
                {{ form_errors(form.username) }}
            </div>

            <div class="admin-form-group">
                {{ form_label(form.email) }}
                {{ form_widget(form.email) }}
                {{ form_errors(form.email) }}
            </div>

            <div class="admin-form-group">
                {{ form_label(form.password) }}
                {{ form_widget(form.password) }}
                {{ form_errors(form.password) }}
            </div>

            <div class="admin-form-group">
                {{ form_label(form.birthDate) }}
                {{ form_widget(form.birthDate) }}
                {{ form_errors(form.birthDate) }}
            </div>

            <button type="submit" class="admin-submit">üíæ Crear usuario</button>

            {{ form_end(form) }}

            <a href="{{ path('admin_users') }}" class="btn-back">‚Üê Volver al listado</a>
        </div>
    </main>
{% endblock %}
